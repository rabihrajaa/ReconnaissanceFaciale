<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<?import javafx.scene.image.ImageView?>
<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.projet.controllers.AdminController" spacing="10" alignment="CENTER">

    <Label text="Admin Dashboard" style="-fx-font-size: 18; -fx-font-weight: bold;" />

    <HBox spacing="20">
        <!-- Admin Section -->
        <VBox spacing="10">
            <Label text="Admin Management" />
            <TextField fx:id="adminCINField" promptText="CIN" />
            <TextField fx:id="adminNameField" promptText="Name" />
            <TextField fx:id="adminLastnameField" promptText="Lastname" />
            <TextField fx:id="adminPhoneField" promptText="Phone" />
            <DatePicker fx:id="AdminBirthdatePicker" />
            <TextField fx:id="adminEmailField" promptText="Email" />
            <PasswordField fx:id="adminPasswordField" promptText="Password" />
            <Button text="Add Admin" onAction="#addAdmin" />
            <Button text="Get Admin" onAction="#getAdmin" />
        </VBox>

        <!-- Resident Section -->
        <VBox spacing="10">
            <Label text="Resident Management" />
            <TextField fx:id="residentCINField" promptText="CIN" />
            <TextField fx:id="residentNameField" promptText="Name" />
            <TextField fx:id="residentLastnameField" promptText="Lastname" />
            <TextField fx:id="residentPhoneField" promptText="Phone" />
            <TextField fx:id="residentDateBirthField" promptText="Date of Birth" />
            <DatePicker fx:id="residentBirthdatePicker" />
            <ChoiceBox fx:id="residentStatusChoiceBox" />
            <!-- Sélectionner une photo -->
            <Label text="Photo:" GridPane.columnIndex="0" GridPane.rowIndex="6" />
            <Button text="Choisir une image" fx:id="chooseImageButton" onAction="#handleChooseImage" GridPane.columnIndex="1" GridPane.rowIndex="6" />

            <!-- Afficher l'aperçu de l'image sélectionnée -->
            <ImageView fx:id="imageView" GridPane.columnIndex="1" GridPane.rowIndex="7" fitWidth="100" fitHeight="100" />

            <Button text="Add Resident" onAction="#addResident" />
            <Button text="Delete Resident" onAction="#deleteResident" />
        </VBox>

        <!-- Foreigner Section -->
        <VBox spacing="10">
            <Label text="Foreigner Management" />
            <TextField fx:id="foreignerIdField" promptText="ID" />
            <TextField fx:id="foreignerPhotoField" promptText="Photo URL" />
            <Button text="Add Foreigner" onAction="#addForeigner" />
            <Button text="Delete Foreigner" onAction="#deleteForeigner" />
        </VBox>
    </HBox>

    <!-- Table Views for Residents and Foreigners -->
    <HBox spacing="20">
        <!-- Residents Table -->
        <VBox spacing="10">
            <Label text="Residents" />
            <TableView fx:id="residentsTable">
                <columns>
                    <TableColumn fx:id="cinColumn" text="CIN" />
                    <TableColumn fx:id="nameColumn" text="Name" />
                    <TableColumn fx:id="phoneColumn" text="Phone" />
                    <!-- Add more columns as needed -->
                </columns>
            </TableView>
        </VBox>

        <!-- Foreigners Table -->
        <VBox spacing="10">
            <Label text="Foreigners" />
            <TableView fx:id="foreignersTable">
                <columns>
                    <TableColumn fx:id="idColumn" text="ID" />
                    <TableColumn fx:id="photoColumn" text="Photo" />
                    <!-- Add more columns as needed -->
                </columns>
            </TableView>
        </VBox>
    </HBox>

    <!-- Status Label -->
    <Label fx:id="statusLabel" text="Status: Ready" style="-fx-text-fill: green;" />
</VBox>
